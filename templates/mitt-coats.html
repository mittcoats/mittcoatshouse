{% extends "main.html" %}
{% block content %}

<div class="row m-5">
  <div class="col">
    <h3>Categories</h3>
    <hr>
      {% if user %}
        <a href='{{url_for('newCategory')}}' class="btn btn-outline-primary btn-sm">
          New Category
        </a>
        <hr>
      {% endif %}
    <ul class="list-group">
      {% for category in categories %}
      <li class="list-group-item m-1">
        <a href='{{url_for('showCategory',
                  category_name = category.name,
                  category_id = category.id)}}'>
                  {{ category.name }}
        </a>
        {% if user %}
          <span class="oi oi-pencil ml-4"></span>
          <div class="d-flex justify-content-end">
            <small class="p-1"><em><a href='{{url_for('editCategory',
                      category_id = category.id)}}'>
                      edit
            </a></em></small>
            <small class="p-1"><em><a href='{{url_for('deleteCategory',
                      category_id = category.id)}}'>
                      delete
            </a></em></small>
          </div>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="col">
    <h3>Products</h3>
    <hr>
      {% if user %}
        <a href='{{url_for('newProduct')}}' class="btn btn-outline-primary btn-sm">
          New Product
        </a>
        <hr>
      {% endif %}

    <ul class="list-group">
      {% for product in products %}
      <li class="list-group-item m-1">
        <a href='{{url_for('showProduct',
                  product_id = product.id,
                  product_name = product.name,
                  category_name = product.category.name,
                  user_id = product.user_id)}}'>
                  {{ product.name }} -
                  {{ product.user_id }}
                  <span><em>({{ product.category.name }})</em></span>
        </a>
        {% if user %}
          <span class="oi oi-pencil ml-4"></span>
          <div class="d-flex justify-content-end">
            <small class="p-1"><em><a href='{{url_for('editProduct',
                      product_id = product.id,
                      product_name = product.name,
                      category_name = product.category.name,
                      user_id = user.id)}}'>
                      edit
            </a></em></small>
            <small class="p-1"><em><a href='{{url_for('deleteProduct',
                      product_id = product.id,
                      category_name = product.category.name,
                      user_id = product.user_id)}}'>
                      delete
            </a></em></small>
          </div>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% endblock %}
